<div>
    <ul class="nav">
        <li class="account-button"><span class="span1">Account</span></li>
        <li class="stories-button"><span class="span2">Stories</span></li>
        <li class="sources-button"><span>Sources</span></li>
        <li class="account-button" data-toggle="modal" data-target="#newSourceModal"><span class="span4">New Source</span></li>
    </ul>
	<input id="searchInput" type="text" placeholder="Search for a source by name, profession, or location"></input>

	<div id="header"></div>
	<div class="honeycombs" id="list">
            <div ng-repeat="source in sourceCtrl.sources" class="comb" data-toggle="modal" data-target="#{{source.id}}">
    			<div class="front-content">
    				<p class="source">{{source.name}}</p>
    			</div>
    			<div class="back-content">
    				<p class="phone">{{source.profession}}</p>
    			</div>
    		</div>
    </div>


		<!-- <div class="comb" data-toggle="modal" data-target="#basicModal">
			<div class="front-content">
				<p class="source">Melissa Steffan</p>
			</div>
			<div class="back-content">
				<p class="phone">(206) 498-7863</p>
			</div>
		</div>
 -->


<!-- SOURCE SHOW Modal -->
<div class="modal fade" ng-repeat="source in sourceCtrl.sources" id="{{source.id}}" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" >
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="myModalLabel">{{source.name}}</h4>
            </div>
            <div class="modal-body">
                <h3>Profession/Title: {{source.profession}}</h3>
                <p class="source">Phone Number {{source.phone}}</p>
                <p class="source">Email address {{source.email}}</p>
                <p class="source">Other info {{source.other}}</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" ng-click="sourceCtrl.delete(source.id)">Delete</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<!-- NEW SOURCE Modal -->
<div class="modal fade" id="newSourceModal" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="myModalLabel">Add a New Source</h4>
            </div>
            <div class="modal-body" >
                <form ng-controller="newSourceController as newSourceCtrl" name="newSourceCtrl.sourceForm" class='sourceForm' ng-submit="newSourceCtrl.create()">
                    <label>Name</label>
                    <input type="text" name="name" ng-model="newSourceCtrl.source.name">
                    <label>Profession</label>
                    <input type="text" name="authorName" ng-model="newSourceCtrl.source.profession">
                    <label>Location</label>
                    <input type="text" name="content" ng-model="newSourceCtrl.source.location">
                    <button src="" alt="new sources button" class="nav-button modal-button">Add Source</button>
                </form>
            </div>
            <!-- <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div> -->
        </div>
    </div>
</div>






<script>
    $(document).ready(function() {
        $('.honeycombs').honeycombs({
            combWidth:200,
            margin: -20,
            threshold: 3
        });

    //console.log($(".honeycombs").css("width"));
    $("#searchInput").keyup(function(){
       // Retrieve the input field text and reset the count to zero
       var filter = $(this).val();
       // Loop through the comment list
       $(".source").each(function(){
           // If the list item does not contain the text phrase fade it out
           if ($(this).text().search(new RegExp(filter, "i")) < 0) {
               //console.log(this);
                $(this).closest(".comb").fadeOut();
           // Show the list item if the phrase matches
           } else {
               $(this).closest(".comb").show();
           }
       });
    });
   });

</script>
